@startuml

title WP3 Modeling Layer Architecture Overview

interface "IAMIntrospectionAPI" as AAUAPI #808080 
interface "DeploymentPreparationAPI" as deploymentPreparationAPI
interface "DefectPredictionCorrectionAPI" as correctionAPI
interface "MonitoringAPI" as monitoringAPI
interface "MonitoringRuleAPI" as monitoringRuleAPI
interface "IaCVerificationAPI" as iacverificationAPI
interface "OrchestratorAPI" as orchestratorAPI

component "Platform Discovery" as PDS 
package "SODALITE IDE" as IDE {
    component [DSL Editor] as ideDSLeditor
    component [GUI] as ideGUI
}

note top of [ideDSLeditor]
 __**Three different types of editors**__
 Abstract ADM/RM
 Optimization Model
 Ansible Abstract Playbook
end note

package "Semantic Reasoner" as res {
    interface "SemanticReasonerAPI" as resAPI
    component [Semantic Population Engine] as resPopulationEngine
    component [Semantic Reasoning Engine] as resReasoningEngine
}

package "Semantic Knowledge Base" as repo {
    database "RDF Triplestore\n(GraphDB)" as triplestore {
        interface "SPARQL Endpoint" as repoEndpoint
        component [Domain Ontologies] as repoOntologies
    }
}

note left of repoOntologies
   __**Semantic Modelling & Abstraction**__ 
   Application Ontology
   Infrastructure Ontology
   Performance Optimization Ontology
   Deployment & Lifecycle Ontology
end note

ideGUI ..> PDS : use
PDS ..> resAPI : use
resAPI -down- resPopulationEngine
resAPI -up- resReasoningEngine
ideDSLeditor .left.> resAPI: use
ideDSLeditor <-down-> ideGUI
repoOntologies -up- repoEndpoint
resPopulationEngine .left.> repoEndpoint: use
resReasoningEngine .left.> repoEndpoint: use
resReasoningEngine ..> AAUAPI: use
resPopulationEngine ..> correctionAPI: use
resPopulationEngine ..> AAUAPI: use
ideGUI ..> deploymentPreparationAPI : use
ideGUI ..> monitoringAPI : use
ideGUI ..> monitoringRuleAPI : use
ideGUI ..> iacverificationAPI : use
ideGUI ..> orchestratorAPI : use
ideGUI ..> AAUAPI: use


@enduml