@startuml
hide unlinked
title Read secret from the Vault
participant "SODALITE Endpoint\nClient" as client
participant "Secrets\nVault" as secretstore
participant "IAM" as IAM


activate client
client->secretstore: Read Secret key-value\n + JWT token (API call)
activate secretstore
secretstore->IAM: Check JWT access token
activate IAM
IAM-->secretstore: Access token is valid
deactivate IAM
secretstore->secretstore: Check JWT\nread privilege\nto project domain
secretstore-->client: Return Secret (JSON)
deactivate secretstore




@enduml
